{"version":3,"file":"data-joint.js","sources":["../node_modules/index-array-by/dist/index-array-by.mjs","../src/index.js"],"sourcesContent":["function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ; else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var s = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.includes(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r );\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (String )(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nvar index = (function () {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var keyAccessors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var multiItem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var flattenKeys = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var keys = (keyAccessors instanceof Array ? keyAccessors.length ? keyAccessors : [undefined] : [keyAccessors]).map(function (key) {\n    return {\n      keyAccessor: key,\n      isProp: !(key instanceof Function)\n    };\n  });\n  var indexedResult = list.reduce(function (res, item) {\n    var iterObj = res;\n    var itemVal = item;\n    keys.forEach(function (_ref, idx) {\n      var keyAccessor = _ref.keyAccessor,\n        isProp = _ref.isProp;\n      var key;\n      if (isProp) {\n        var _itemVal = itemVal,\n          propVal = _itemVal[keyAccessor],\n          rest = _objectWithoutProperties(_itemVal, [keyAccessor].map(_toPropertyKey));\n        key = propVal;\n        itemVal = rest;\n      } else {\n        key = keyAccessor(itemVal, idx);\n      }\n      if (idx + 1 < keys.length) {\n        if (!iterObj.hasOwnProperty(key)) {\n          iterObj[key] = {};\n        }\n        iterObj = iterObj[key];\n      } else {\n        // Leaf key\n        if (multiItem) {\n          if (!iterObj.hasOwnProperty(key)) {\n            iterObj[key] = [];\n          }\n          iterObj[key].push(itemVal);\n        } else {\n          iterObj[key] = itemVal;\n        }\n      }\n    });\n    return res;\n  }, {});\n  if (multiItem instanceof Function) {\n    // Reduce leaf multiple values\n    (function reduce(node) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      if (level === keys.length) {\n        Object.keys(node).forEach(function (k) {\n          return node[k] = multiItem(node[k]);\n        });\n      } else {\n        Object.values(node).forEach(function (child) {\n          return reduce(child, level + 1);\n        });\n      }\n    })(indexedResult); // IIFE\n  }\n  var result = indexedResult;\n  if (flattenKeys) {\n    // flatten into array\n    result = [];\n    (function flatten(node) {\n      var accKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      if (accKeys.length === keys.length) {\n        result.push({\n          keys: accKeys,\n          vals: node\n        });\n      } else {\n        Object.entries(node).forEach(function (_ref2) {\n          var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            val = _ref3[1];\n          return flatten(val, [].concat(_toConsumableArray(accKeys), [key]));\n        });\n      }\n    })(indexedResult); //IIFE\n\n    if (keyAccessors instanceof Array && keyAccessors.length === 0 && result.length === 1) {\n      // clear keys if there's no key accessors (single result)\n      result[0].keys = [];\n    }\n  }\n  return result;\n});\n\nexport { index as default };\n","import indexBy from 'index-array-by';\n\nfunction diffArrays(prev, next, idAccessor) {\n  const result = { enter: [], update: [], exit: [] };\n\n  if (!idAccessor) { // use object references for comparison\n    const prevSet = new Set(prev);\n    const nextSet = new Set(next);\n\n    new Set([...prevSet, ...nextSet]).forEach(item => {\n      const type = !prevSet.has(item)\n        ? 'enter'\n        : !nextSet.has(item)\n          ? 'exit'\n          : 'update';\n\n      result[type].push(type === 'update' ? [item, item]: item);\n    });\n  } else { // compare by id (duplicate keys are ignored)\n    const prevById = indexBy(prev, idAccessor, false);\n    const nextById = indexBy(next, idAccessor, false);\n    const byId = Object.assign({}, prevById, nextById);\n\n    Object.entries(byId).forEach(([id, item]) => {\n      const type = !prevById.hasOwnProperty(id)\n        ? 'enter'\n        : !nextById.hasOwnProperty(id)\n          ? 'exit'\n          : 'update';\n\n      result[type].push(type === 'update' ? [prevById[id], nextById[id]]: item);\n    });\n  }\n\n  return result;\n}\n\nfunction dataBindDiff(\n  data,\n  existingObjs,\n  {\n    objBindAttr = '__obj',\n    dataBindAttr = '__data',\n    idAccessor,\n    purge = false\n  }\n) {\n  const isObjValid = obj => obj.hasOwnProperty(dataBindAttr);\n\n  const removeObjs = existingObjs.filter(obj => !isObjValid(obj));\n\n  const prevD = existingObjs.filter(isObjValid).map(obj => obj[dataBindAttr]);\n  const nextD = data;\n\n  const diff = purge\n    ? { enter: nextD, exit: prevD, update: [] } // don't diff data in purge mode\n    : diffArrays(prevD, nextD, idAccessor);\n\n  diff.update = diff.update.map(([prevD, nextD]) => {\n    if (prevD !== nextD) {\n      // transfer obj to new data point (if different)\n      nextD[objBindAttr] = prevD[objBindAttr];\n      nextD[objBindAttr][dataBindAttr] = nextD;\n    }\n    return nextD;\n  });\n  diff.exit = diff.exit.concat(removeObjs.map(obj => ({\n    [objBindAttr]: obj\n  })));\n\n  return diff;\n}\n\nfunction viewDigest(\n  data,\n  existingObjs, // list\n  appendObj,  // item => {...} function\n  removeObj, // item => {...} function\n  {\n    createObj = d => ({}),\n    updateObj = (obj, d) => {},\n    exitObj = obj => {},\n    objBindAttr = '__obj',\n    dataBindAttr = '__data',\n    ...dataDiffOptions\n  }\n) {\n  const { enter, update, exit } = dataBindDiff(data, existingObjs, { objBindAttr, dataBindAttr, ...dataDiffOptions });\n\n  // Remove exiting points\n  exit.forEach(d => {\n    const obj = d[objBindAttr];\n    delete(d[objBindAttr]); // unbind obj\n\n    exitObj(obj);\n    removeObj(obj);\n  });\n\n  const newObjs = createObjs(enter);\n  const pointsData = [...enter, ...update];\n  updateObjs(pointsData);\n\n  // Add new points\n  newObjs.forEach(appendObj);\n\n  //\n\n  function createObjs(data) {\n    const newObjs = [];\n\n    data.forEach(d => {\n      const obj = createObj(d);\n      if (obj) {\n        obj[dataBindAttr] = d;\n        d[objBindAttr] = obj;\n\n        newObjs.push(obj);\n      }\n    });\n\n    return newObjs;\n  }\n\n  function updateObjs(data) {\n    data.forEach(d => {\n      const obj = d[objBindAttr];\n      if (obj) {\n        obj[dataBindAttr] = d;\n        updateObj(obj, d);\n      }\n    });\n  }\n}\n\nexport default viewDigest;\n"],"names":["diffArrays","prev","next","idAccessor","result","enter","update","exit","prevSet","Set","nextSet","concat","_toConsumableArray","forEach","item","type","has","push","prevById","indexBy","nextById","byId","Object","assign","entries","_ref","_ref2","_slicedToArray","id","hasOwnProperty","dataBindDiff","data","existingObjs","_ref3","_ref3$objBindAttr","objBindAttr","_ref3$dataBindAttr","dataBindAttr","_ref3$purge","purge","isObjValid","obj","removeObjs","filter","prevD","map","nextD","diff","_ref4","_ref5","_defineProperty","viewDigest","appendObj","removeObj","_ref7","_ref7$createObj","createObj","d","_ref7$updateObj","updateObj","_ref7$exitObj","exitObj","_ref7$objBindAttr","_ref7$dataBindAttr","dataDiffOptions","_objectWithoutProperties","_excluded","_dataBindDiff","_objectSpread","newObjs","createObjs","pointsData","updateObjs"],"mappings":"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","x_google_ignoreList":[0]}